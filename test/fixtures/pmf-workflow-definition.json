{
  "code": "pigs-might-fly",
  "pages": {
    "cases": {
      "details": {
        "banner": {
          "title": {
            "text": "$.payload.businessName",
            "type": "string"
          },
          "summary": {
            "reference": {
              "label": "Reference",
              "text": "$.caseRef",
              "type": "string"
            },
            "status": {
              "label": "Status",
              "text": "$.currentStatusName",
              "type": "string"
            },
            "dateReceived": {
              "label": "Date Received",
              "text": "$.dateReceived",
              "type": "date",
              "format": "formatDate"
            }
          }
        },
        "tabs": {
          "case-details": {
            "content": [
              {
                "title": "Applicant Details",
                "type": "object",
                "component": "summary-list",
                "rows": [
                  {
                    "text": "$.payload.answers.isPigFarmer",
                    "type": "boolean",
                    "label": "Are you a pig farmer?",
                    "format": "yesNo"
                  }
                ]
              },
              {
                "title": "Pig Stock Details",
                "type": "object",
                "component": "summary-list",
                "rows": [
                  {
                    "text": "$.payload.answers.totalPigs",
                    "type": "number",
                    "label": "Total Pigs"
                  },
                  {
                    "text": "$.payload.answers.whitePigsCount",
                    "type": "number",
                    "label": "How many White pigs do you have?"
                  },
                  {
                    "text": "$.payload.answers.britishLandracePigsCount",
                    "type": "number",
                    "label": "How many British Landrace pigs do you have?"
                  },
                  {
                    "text": "$.payload.answers.berkshirePigsCount",
                    "type": "number",
                    "label": "How many Berkshire pigs do you have?"
                  },
                  {
                    "text": "$.payload.answers.otherPigsCount",
                    "type": "number",
                    "label": "How many Other pigs do you have?"
                  }
                ]
              }
            ]
          }
        }
      }
    }
  },
  "phases": [
    {
      "code": "DEFAULT",
      "name": "Default Phase",
      "stages": [
        {
          "code": "application-received",
          "name": "Application Received",
          "description": "Application received",
          "statuses": [],
          "taskGroups": [
            {
              "code": "review-automated-checks",
              "name": "Review Automated Checks",
              "description": "Task group description",
              "tasks": [
                {
                  "code": "review-application-data",
                  "name": "Review application data",
                  "description": null,
                  "statusOptions": []
                }
              ]
            }
          ],
          "actionsTitle": "Decision",
          "actions": [
            {
              "code": "approve",
              "name": "Approve",
              "comment": {
                "label": "Approval reason note",
                "helpText": "All notes will be saved for auditing purposes",
                "type": "REQUIRED"
              }
            },
            {
              "code": "on-hold",
              "name": "Put on hold",
              "comment": {
                "label": "Note (optional)",
                "helpText": "All notes will be saved for auditing purposes",
                "type": "OPTIONAL"
              }
            },
            {
              "code": "reject",
              "name": "Reject",
              "comment": null
            }
          ]
        },
        {
          "code": "assessment",
          "name": "Assessment",
          "description": "Application assessment",
          "statuses": [],
          "taskGroups": [
            {
              "code": "check-application",
              "name": "Check Application",
              "description": "Task group description",
              "tasks": [
                {
                  "code": "check-application-and-documents",
                  "name": "Check application and documents",
                  "description": null,
                  "statusOptions": []
                },
                {
                  "code": "check-find-farm-and-land-payment-data",
                  "name": "Check on Find farm and land payment data",
                  "description": null,
                  "statusOptions": []
                },
                {
                  "code": "check-rps-dual-funding",
                  "name": "Check on RPS (Dual Funding)",
                  "description": null,
                  "statusOptions": []
                }
              ]
            },
            {
              "code": "registration-checks",
              "name": "Registration checks",
              "description": "Task group description",
              "tasks": [
                {
                  "code": "confirm-farm-has-cph",
                  "name": "Confirm farm has a CPH",
                  "description": null,
                  "statusOptions": []
                },
                {
                  "code": "confirm-apha-registration",
                  "name": "Confirm APHA registration",
                  "description": null,
                  "statusOptions": []
                }
              ]
            }
          ],
          "actions": [
            {
              "code": "approve",
              "name": "Confirm Approval",
              "comment": null
            },
            {
              "code": "confirm-rejection",
              "name": "Confirm Rejection",
              "comment": null
            }
          ]
        },
        {
          "code": "contracted",
          "name": "Contracted",
          "description": "Awaiting agreement",
          "statuses": [],
          "taskGroups": [],
          "actions": []
        }
      ]
    }
  ],
  "requiredRoles": {
    "allOf": ["ROLE_RPA_ADMIN"],
    "anyOf": ["ROLE_RPA_ADMIN"]
  },
  "externalActions": [
    {
      "code": "RERUN_RULES",
      "name": "Rerun Rules",
      "description": "Rerun the business rules validation",
      "endpoint": "landGrantsRulesRerun",
      "display": true,
      "target": {
        "position": "PRE_AWARD:REVIEW_APPLICATION:IN_PROGRESS",
        "node": "landGrantsRulesRun",
        "nodeType": "array",
        "place": "append"
      }
    }
  ],
  "endpoints": []
}
